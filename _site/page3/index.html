<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Article">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>Ombu Labs on Code and Startups - The Lean Software Boutique</title><meta name="description" content="Articles about Software Development, Performance, Ruby and Rails by the Ombu Labs team" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="Ombu Labs on Code and Startups - The Lean Software Boutique">
    <meta itemprop="description" content="Articles about Software Development, Performance, Ruby and Rails by the Ombu Labs team">
    <!-- meta itemprop="image" content="http://www.example.com/image.jpg" -->

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@OmbuLabs">

    <meta name="twitter:title" content="Ombu Labs on Code and Startups - The Lean Software Boutique">
    <meta name="twitter:description" content="Articles about Software Development, Performance, Ruby and Rails by the Ombu Labs team">
    <meta name="twitter:creator" content="@OmbuLabs">
    <!-- Twitter summary card with large image must be at least 280x150px -->
    <!-- meta name="twitter:image:src" content="http://www.example.com/image.html" -->

    <!-- Open Graph data -->
    <meta property="og:title" content="Ombu Labs on Code and Startups - The Lean Software Boutique" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.ombulabs.com/blog/page3/" />
    <meta property="og:image" content="https://www.ombulabs.com/assets/isotype.png" />
    <meta property="og:description" content="Articles about Software Development, Performance, Ruby and Rails by the Ombu Labs team" />
    <meta property="og:site_name" content="Ombu Labs on Code and Startups" /><meta property="fb:admins" content="10153304864537860" />

    <link rel="stylesheet" type="text/css" href="/blog/assets/css/screen.css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic|Maven+Pro" rel="stylesheet" type="text/css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/blog/assets/css/main.css" />
    <link rel="stylesheet" type="text/css" href="/assets/ombu_blog/application.css" />
</head>
<body class="home-template">
  <header class="main-header no-cover">
      <nav class="main-nav overlay clearfix"><a class="back-button icon-arrow-left"
                 href="/blog">Home</a>
          <a class="subscribe-button icon-feed" href="/blog/rss.xml">Subscribe</a>
      </nav>
      <div class="vertical">
          <div class="main-header-content inner">
              <h1 class="page-title logo"><a href="/blog">OmbuLabs Blog</a></h1>
              <h2 class="page-description slogan">The Lean Software Boutique</h2>
          </div>
      </div>
      <a class="scroll-down icon-arrow-left" href="#content" data-offset="-45"><span class="hidden">Scroll Down</span></a>
  </header>
    <div id="wrapper">
      <main id="content" class="content" role="main">
    <div class="extra-pagination inner"><nav class="pagination" role="pagination"><a class="newer-posts" href="/blog/page2/" title="Previous Page">&laquo; Newer Posts</a><span class="page-number"> Page 3 of 4 </span><a class="older-posts" href="/blog/page4/" title="Next Page">Older Posts &raquo;</a></nav>
</div><article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/rails/dry/dry-your-test-unit.html">DRY your tests</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/rails"
         title="Articles about Rails">Rails</a>,
      <a href="/blog/tags/dry"
         title="Articles about Dry">Dry</a><time class="post-date" datetime="2016-05-16">
  16 May 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>I&#39;m a big fan of having small classes. I&#39;m not a big fan of having huge specs for
a small class/object. Every time I see an opportunity to
<a href="http://c2.com/cgi/wiki?DontRepeatYourself">DRY</a> my specs, I take it.</p>

<p>Today I wrote a spec to make sure that we gracefully ignore SPAMmy
contact requests in the Ombu Labs
<a href="https://www.ombulabs.com/contact">contact page</a>. It initially looked like this:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="nb">test</span> <span class="s2">&quot;gracefully ignores spammy requests with valid attributes&quot;</span> <span class="k">do</span>
  <span class="vi">@valid_contact</span> <span class="o">=</span> <span class="n">contacts</span><span class="p">(</span><span class="ss">:two</span><span class="p">)</span>
  <span class="n">attributes</span> <span class="o">=</span> <span class="vi">@valid_contact</span><span class="o">.</span><span class="n">attributes</span>
                             <span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="ss">email_confirmation</span><span class="p">:</span> <span class="vi">@valid_contact</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>

  <span class="n">assert_no_difference</span><span class="p">(</span><span class="s2">&quot;Contact.count&quot;</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="ss">contact</span><span class="p">:</span> <span class="n">attributes</span><span class="p">,</span> <span class="nb">format</span><span class="p">:</span> <span class="s1">&#39;js&#39;</span>
  <span class="k">end</span>

  <span class="n">assert_response</span> <span class="ss">:success</span>
<span class="k">end</span>
</code></pre></div>

<p>The new behavior adds a simple <a href="http://www.sitepoint.com/easy-spam-prevention-using-hidden-form-fields/">SPAM trap field</a>
that bots will usually fall for.
If a bot is submitting the <code>email_confirmation</code> field (which is hidden by a CSS
class), then it is <strong>SPAM</strong> and it gracefully ignores the request.</p>
 <a class="read-more" href="/blog/rails/dry/dry-your-test-unit.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/agile/pair-programming/joys-and-woes-of-pair-programming.html">The Joys and Woes of Pair Programming</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/agile"
         title="Articles about Agile">Agile</a>,
      <a href="/blog/tags/pair-programming"
         title="Articles about Pair Programming">Pair Programming</a><time class="post-date" datetime="2016-05-12">
  12 May 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>There are a few <a href="https://en.wikipedia.org/wiki/Agile_software_development#Agile_practices">agile practices</a> that <strong>I really love</strong>. <a href="http://c2.com/cgi/wiki?PairProgramming">Pair programming</a>
is one of them.</p>

<p>We try to do it as much as possible at <a href="https://www.ombulabs.com">Ombu Labs</a>. We
usually keep the sessions under <strong>two hours</strong> and try to follow a regular
schedule.</p>

<p>When we find ourselves <strong>blocked</strong> by a code problem, we use our daily scrum to
coordinate a <strong>pairing session</strong>. It&#39;s quite a step up from <em><a href="http://c2.com/cgi/wiki?RubberDucking">rubberducking</a></em> or using a <em><a href="http://c2.com/cgi/wiki?CardboardProgrammer">cardboard programmer</a></em> to find a <strong>solution</strong>
to a problem.</p>

<p><img src="/blog/assets/images/pair-programming.jpg" alt="@mauro_oto and I pair programming" class="full-img"></p>

<h2>The Joys</h2>

<p>As a <em>Senior</em> developer, I find that pairing sessions are great for coaching
<em>Junior</em> developers. I enjoy teaching them about best practices, design
patterns, frameworks, languages, code style,
<a href="http://c2.com/cgi/wiki?ExtremeProgramming">XP</a>, and
<a href="http://c2.com/cgi/wiki?TestDrivenDevelopment">TDD</a>.</p>

<p>From the point of view of a <em>Junior</em> developer, I believe it&#39;s a
<strong>great opportunity</strong> to <strong>learn</strong> from someone who &quot;has been there before&quot;.
When you program with someone with more experience, you will often learn about
design patterns, elegant object-oriented solutions, tips and tricks.</p>
 <a class="read-more" href="/blog/agile/pair-programming/joys-and-woes-of-pair-programming.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/open-source/crowdsourcing/introducing-infractores.html">Introducing Infractores</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/open-source"
         title="Articles about Open Source">Open Source</a>,
      <a href="/blog/tags/crowdsourcing"
         title="Articles about Crowdsourcing">Crowdsourcing</a><time class="post-date" datetime="2016-04-29">
  29 Apr 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>I&#39;ve always been a big fan of <a href="https://en.wikipedia.org/wiki/The_Cathedral_and_the_Bazaar#Lessons_for_creating_good_open_source_software">scratching your own itch</a>. My latest itch was the <strong>insane amount of parking
violations</strong> that I see everyday in <strong>Buenos Aires</strong>, near <a href="https://foursquare.com/v/ombulabs-hq/52f0e47311d25da04d101b62">our office</a>.</p>

<p>We decided to build a <strong>simple tool</strong> that would allow anyone with a <a href="https://twitter.com">Twitter</a> account to <em>report a parking violation</em>. All
you need to do is submit a <strong>geolocated tweet</strong> and a couple of photos
(<strong>as evidence!</strong>)</p>

<p>Here is an example:</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="es" dir="ltr">Ah, ¿no se puede estacionar en paradas de colectivo? Ya fueee... <a href="https://twitter.com/hashtag/InfractoresBA?src=hash">#InfractoresBA</a> <a href="https://t.co/XXmu1pdAib">pic.twitter.com/XXmu1pdAib</a></p>&mdash; E r n e s t o (@_nesto) <a href="https://twitter.com/_nesto/status/722065061309726720">April 18, 2016</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>You can check out this tool over here: <a href="http://www.infractoresba.com.ar">http://www.infractoresba.com.ar</a></p>

<p>This page shows all the parking violations reported by users to
<a href="https://twitter.com/infractoresBA">@InfractoresBA</a> or with the
<a href="https://twitter.com/search?src=typd&q=%23InfractoresBA">#InfractoresBA</a> hashtag.
It&#39;s <strong>as simple as that</strong>.</p>
 <a class="read-more" href="/blog/open-source/crowdsourcing/introducing-infractores.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/ruby/performance/using-bumbler-to-reduce-runtime-dependencies.html">Using Bumbler to reduce runtime dependencies</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/350875eb8fce8553e12040c5a1f5d5d0?s=50" alt="Mauro Otonelli" nopin="nopin" /><a href="/blog/authors/mauro-oto"
     title="Articles by Mauro Otonelli">
     Mauro Otonelli
  </a>on
    
      <a href="/blog/tags/ruby"
         title="Articles about Ruby">Ruby</a>,
      <a href="/blog/tags/performance"
         title="Articles about Performance">Performance</a><time class="post-date" datetime="2016-04-25">
  25 Apr 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>A few weeks ago, I found an interesting project called
 <a href="https://github.com/nevir/Bumbler">Bumbler</a>. If your project uses Bundler,
 Bumbler shows you your project&#39;s largest dependencies.
When you find yourself staring at the screen after running
 <code>bundle exec rails c</code>, you may want to give this tool a try.</p>
 <a class="read-more" href="/blog/ruby/performance/using-bumbler-to-reduce-runtime-dependencies.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/ruby/rails/sessions/session-user-flow.html">Use session variables to optimize your user flow</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/ff0ffbb39659d36ad6aabcd0b4715c1b?s=50" alt="Sirko Sittig" nopin="nopin" /><a href="/blog/authors/schmierkov"
     title="Articles by Sirko Sittig">
     Sirko Sittig
  </a>on
    
      <a href="/blog/tags/ruby"
         title="Articles about Ruby">Ruby</a>,
      <a href="/blog/tags/rails"
         title="Articles about Rails">Rails</a>,
      <a href="/blog/tags/sessions"
         title="Articles about Sessions">Sessions</a><time class="post-date" datetime="2016-04-22">
  22 Apr 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>Sessions provide you a nice little data storage feature where the application does not need to get the information directly from the database. So you do not have to persist data in your database and can easily store info about the user on the fly. This is a nice way to enhance the user experience on your page.</p>

<p>Let&#39;s say that you want to show some users a new fancy sign up form and the rest the old form. If you store the version of the sign up form in a session variable, you don&#39;t need to persist this info in your database.</p>
 <a class="read-more" href="/blog/ruby/rails/sessions/session-user-flow.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/team/jobs/our-hiring-process.html">Our Hiring Process</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/team"
         title="Articles about Team">Team</a>,
      <a href="/blog/tags/jobs"
         title="Articles about Jobs">Jobs</a><time class="post-date" datetime="2016-04-14">
  14 Apr 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>This is our process to hire new team members at <a href="https://www.ombulabs.com">Ombu Labs</a>. It&#39;s a process that we have been improving ever since we started our operations. It&#39;s <strong>very important</strong> for us to hire <strong>A players</strong>.</p>

<p>In this article I will focus on how we evaluate new developers, but parts of the process can be customized for other positions.</p>
 <a class="read-more" href="/blog/team/jobs/our-hiring-process.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/lean-startup/mvp/the-landing-page-mvp.html">The Landing Page MVP</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/lean-startup"
         title="Articles about Lean Startup">Lean Startup</a>,
      <a href="/blog/tags/mvp"
         title="Articles about Mvp">Mvp</a><time class="post-date" datetime="2016-04-05">
  05 Apr 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>There is no good reason why an <strong>MVP</strong> should take more than one month. If that happens, it means that the scope of the <a href="https://leanstack.com/minimum-viable-product/">minimum viable product</a> wasn&#39;t small enough.</p>

<p>You want to build the smallest feature set in order to start learning from your target market. It doesn&#39;t have to be feature complete. It doesn&#39;t even have to offer a feature. It doesn&#39;t even need to be a web-based MVP.</p>
 <a class="read-more" href="/blog/lean-startup/mvp/the-landing-page-mvp.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/design/ombulabs-products.html">Announcing The Ombu Labs Shop!</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/a114aaf647736b09d7f09466fcaed51c?s=50" alt="Cecilia Farías" nopin="nopin" /><a href="/blog/authors/cecilia"
     title="Articles by Cecilia Farías">
     Cecilia Farías
  </a>on
    
      <a href="/blog/tags/design"
         title="Articles about Design">Design</a><time class="post-date" datetime="2016-04-01">
  01 Apr 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>We recently worked on a series of Christmas presents for the team. We are happy to share part of the process and its final result!</p>
 <a class="read-more" href="/blog/design/ombulabs-products.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/rails/performance/hunting-down-a-slow-rails-request.html">Hunting Down a Slow Rails Request</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/350875eb8fce8553e12040c5a1f5d5d0?s=50" alt="Mauro Otonelli" nopin="nopin" /><a href="/blog/authors/mauro-oto"
     title="Articles by Mauro Otonelli">
     Mauro Otonelli
  </a>on
    
      <a href="/blog/tags/rails"
         title="Articles about Rails">Rails</a>,
      <a href="/blog/tags/performance"
         title="Articles about Performance">Performance</a><time class="post-date" datetime="2016-03-04">
  04 Mar 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>Recently, we started using <a href="https://www.skylight.io">Skylight</a> in production
for one of our clients&#39; Rails applications, in an attempt to try to improve the
performance of some of the more critical API endpoints.</p>

<p>Skylight reports on:</p>

<ul>
<li>Time taken per request</li>
<li>Breakdown of time taken per SQL query</li>
<li>Object allocations per request</li>
</ul>

<p>I noticed an unusually large amount of allocated objects for one request:</p>

<p><img src="/blog/assets/images/high-object-allocation.png" alt="Skylight report"></p>

<p>This request would take anywhere from 400ms to 3000ms to respond, which is
<strong>WAY</strong> too long.</p>
 <a class="read-more" href="/blog/rails/performance/hunting-down-a-slow-rails-request.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/rails/maintenance/ten-steps-to-evaluate-a-rails-project.html">10 Steps to Evaluate a Rails Project</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/rails"
         title="Articles about Rails">Rails</a>,
      <a href="/blog/tags/maintenance"
         title="Articles about Maintenance">Maintenance</a><time class="post-date" datetime="2016-02-17">
  17 Feb 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>It will come a time when you will have to decide whether to maintain a <a href="http://rubyonrails.org">Rails</a> project <strong>or not</strong>.</p>

<p>If you want to seriously consider it, you should follow these 10 steps:</p>

<h3>1. Setup the development environment</h3>

<p>Git clone the repository and try to start the server. Is the <code>README</code> clear enough? Can you follow the steps in the file and easily get started?</p>

<p>A lot of projects will have a <code>README</code> that is out of date and/or instructions that don&#39;t work right off the bat.</p>

<p>Most of the projects will define guidelines like these:</p>

<ul>
<li>Configure your <code>config/database.yml</code></li>
<li>Configure your <code>.env</code> file</li>
<li>Setup the database <code>rake db:create db:migrate db:seed</code></li>
<li>Start the server <code>rails server</code></li>
</ul>

<p>The best projects will have a one-liner that will setup the entire environment for you.</p>
 <a class="read-more" href="/blog/rails/maintenance/ten-steps-to-evaluate-a-rails-project.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/hubot/linux/set-up-and-run-hubot-in-non-heroku-server.html">Set up and run Hubot without using Heroku</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/350875eb8fce8553e12040c5a1f5d5d0?s=50" alt="Mauro Otonelli" nopin="nopin" /><a href="/blog/authors/mauro-oto"
     title="Articles by Mauro Otonelli">
     Mauro Otonelli
  </a>on
    
      <a href="/blog/tags/hubot"
         title="Articles about Hubot">Hubot</a>,
      <a href="/blog/tags/linux"
         title="Articles about Linux">Linux</a><time class="post-date" datetime="2016-01-29">
  29 Jan 2016
</time>
</footer>
    <section class="post-excerpt">
        <p><a href="https://hubot.github.com">Hubot</a> makes it incredibly easy to setup on a Heroku
server, by taking advantage of its Procfile support. Simply running
<code>git push heroku master</code> deploys the app and starts it.</p>

<p>When it comes to deploying to your own Linux server, given that
<code>foreman</code> doesn&#39;t really like background processes (see:
<a href="https://github.com/ddollar/foreman/issues/65">ddollar/foreman#65</a>), you need to
use something like <code>monit</code>, <code>systemd</code> or <code>tmux</code> to better manage your Hubot
process.</p>
 <a class="read-more" href="/blog/hubot/linux/set-up-and-run-hubot-in-non-heroku-server.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/rails/rspec/ruby/let-vs-instance.html">Let vs Instance Variables</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/ff0ffbb39659d36ad6aabcd0b4715c1b?s=50" alt="Sirko Sittig" nopin="nopin" /><a href="/blog/authors/schmierkov"
     title="Articles by Sirko Sittig">
     Sirko Sittig
  </a>on
    
      <a href="/blog/tags/rails"
         title="Articles about Rails">Rails</a>,
      <a href="/blog/tags/rspec"
         title="Articles about Rspec">Rspec</a>,
      <a href="/blog/tags/ruby"
         title="Articles about Ruby">Ruby</a><time class="post-date" datetime="2016-01-22">
  22 Jan 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>Maybe in the past you stumbled over the two different approaches to setup your test variables. One way is the more programmatical approach by using instance variables, usually initialized in a <code>before</code> block.</p>
 <a class="read-more" href="/blog/rails/rspec/ruby/let-vs-instance.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/open-source/security/protect-your-sensitive-data-in-git.html">Protect your sensitive data in Git</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/ff0ffbb39659d36ad6aabcd0b4715c1b?s=50" alt="Sirko Sittig" nopin="nopin" /><a href="/blog/authors/schmierkov"
     title="Articles by Sirko Sittig">
     Sirko Sittig
  </a>on
    
      <a href="/blog/tags/open-source"
         title="Articles about Open Source">Open Source</a>,
      <a href="/blog/tags/security"
         title="Articles about Security">Security</a><time class="post-date" datetime="2016-01-21">
  21 Jan 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>If you are working with open source or if you are going to open source a repository, you should ensure that none of your sensitive data (API Keys, Credentials, Passwords) can be accessed by anyone.</p>

<p><strong>One thing that a lot of people forget, is that this information stay forever in your repository history, if you do not rewrite the history of your repository.</strong></p>

<p>For instance, what usually happens is that you commit a file with sensitive information. In this Example I added accidentally my <code>ssh-key</code> to the repo:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ git commit -am <span class="s1">&#39;init git repo&#39;</span>
<span class="o">[</span>master <span class="o">(</span>root-commit<span class="o">)</span> 917a1e1<span class="o">]</span> init git repo
 <span class="m">2</span> files changed, <span class="m">52</span> insertions<span class="o">(</span>+<span class="o">)</span>
 create mode <span class="m">100644</span> id_rsa
 create mode <span class="m">100644</span> id_rsa.pub
</code></pre></div>

<p>After doing a couple of additions, working and editing, I realise that I should never have commited the <code>ssh-key</code>. *facepalm*</p>

<p>Alright, then I just do a simple <code>git rm --cached id_rsa</code> and everything is back to normal. I also add this file to a .gitignore, so that this cannot happen in the future anymore.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="o">(</span>master<span class="o">)</span> $ git rm --cached id_rsa
rm <span class="s1">&#39;id_rsa&#39;</span>
<span class="o">(</span>master<span class="o">)</span> $ git status
A  .gitignore
D  id_rsa
<span class="o">(</span>master<span class="o">)</span> $ git commit -am <span class="s1">&#39;remove id_rsa&#39;</span>
<span class="o">[</span>master c69deb9<span class="o">]</span> remove id_rsa
 <span class="m">2</span> files changed, <span class="m">1</span> insertion<span class="o">(</span>+<span class="o">)</span>, <span class="m">51</span> deletions<span class="o">(</span>-<span class="o">)</span>
 create mode <span class="m">100644</span> .gitignore
 delete mode <span class="m">100644</span> id_rsa
</code></pre></div>

<p>So if we now have a look in our commit list, we can still see our first commit where I added my ssh-key. If I checkout this commit, I still have the contents of my <code>ssh-key</code> available.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="o">(</span>master<span class="o">)</span> $ git log
917a1e1 - init git repo <span class="o">(</span><span class="m">24</span> minutes ago<span class="o">)</span> &lt;Sirko Sittig&gt;
<span class="o">(</span>master<span class="o">)</span> $ git checkout 917a1e1
<span class="o">((</span>detached from 917a1e1<span class="o">))</span> $ cat id_rsa
-----BEGIN RSA PRIVATE KEY-----
MIIJKQIBAAKCAgEAoequrqsM42na3OpvBFYOpqvzJumr3/kxJTuluXbPyJzVjMXf
d/uhFUJgSqq4AJGOFLLPpQ+9jwfA+WraIxZ9R7p8LgpNdUwKsmGnUvofeD/9Rs1y
YZO8EAjl1URLJ379nN+L5KKPS/48Q4iGp57iwuGzrXLHccLyW5+Z0iMuHlKBQzPx
...
</code></pre></div>

<p>To ensure that ALL of this data gets properly removed, I need to remove this file from all the commits in the repository with <a href="https://git-scm.com/docs/git-filter-branch">git filter-branch</a>. The command <code>git rm --cached</code> <a href="https://git-scm.com/docs/git-rm">git rm docs</a> is not sufficient in this case.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="o">(</span>master<span class="o">)</span> $ git filter-branch --tree-filter <span class="s1">&#39;rm -f id_rsa&#39;</span> HEAD
Rewrite c69deb9779a30e6335ab1a8ac1a0825cfc9302e4 <span class="o">(</span><span class="m">6</span>/6<span class="o">)</span>
Ref <span class="s1">&#39;refs/heads/master&#39;</span> was rewritten
</code></pre></div>

<p>So far so good, but what about my other branches that have been created?
<code>bash
(master) $ git checkout new-feature
(new-feature) $ ls
drwxrwxr-x  3 sirko sirko  4096 Dec 31 13:20 ./
drwx------ 56 sirko sirko 12288 Dec 31 12:37 ../
drwxrwxr-x  8 sirko sirko  4096 Dec 31 13:20 .git/
-rw-rw-r--  1 sirko sirko  3243 Dec 31 13:20 id_rsa
-rw-r--r--  1 sirko sirko   748 Dec 31 12:41 id_rsa.pub
-rw-rw-r--  1 sirko sirko    64 Dec 31 13:20 my_document.txt
</code></p>

<p>Apparently <code>git filter-branch</code> is applying this changes only to the current branch, which is actually not what I want. To make this work, it seems that I have to run <code>git filter-branch</code> in every existing branch, which makes it pretty annoying. After reading more in the (git docs)[https://git-scm.com/docs/git-filter-branch], I found that I need to apply the <code>--all</code> option.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="o">(</span>master<span class="o">)</span> $ git filter-branch --tree-filter <span class="s1">&#39;rm -f id_rsa&#39;</span> HEAD --all
Rewrite c69deb9779a30e6335ab1a8ac1a0825cfc9302e4 <span class="o">(</span><span class="m">7</span>/7<span class="o">)</span>
Ref <span class="s1">&#39;refs/heads/master&#39;</span> was rewritten
WARNING: Ref <span class="s1">&#39;refs/heads/master&#39;</span> is unchanged
Ref <span class="s1">&#39;refs/remotes/origin/master&#39;</span> was rewritten
WARNING: Ref <span class="s1">&#39;refs/remotes/origin/master&#39;</span> is unchanged
Ref <span class="s1">&#39;refs/remotes/origin/new-feature&#39;</span> was rewritten
<span class="o">(</span>master<span class="o">)</span> $ git checkout new-feature
<span class="o">(</span>new-feature<span class="o">)</span> $ ll
total <span class="m">44</span>
drwxrwxr-x  <span class="m">3</span> sirko sirko  <span class="m">4096</span> Dec <span class="m">31</span> <span class="m">13</span>:41 ./
drwx------ <span class="m">57</span> sirko sirko <span class="m">12288</span> Dec <span class="m">31</span> <span class="m">13</span>:41 ../
drwxrwxr-x  <span class="m">8</span> sirko sirko  <span class="m">4096</span> Dec <span class="m">31</span> <span class="m">13</span>:41 .git/
-rw-rw-r--  <span class="m">1</span> sirko sirko   <span class="m">748</span> Dec <span class="m">31</span> <span class="m">13</span>:41 id_rsa.pub
-rw-rw-r--  <span class="m">1</span> sirko sirko    <span class="m">64</span> Dec <span class="m">31</span> <span class="m">13</span>:41 my_document.txt
</code></pre></div>

<p>That seems to be exactly what I want and in the end I just need to <code>git push --all --force</code> my changes. <strong>After doing this, all collaborators should dump their local versions and clone a fresh version from the origin.</strong></p>

<p>Another alternative to working with <code>git filter-branch</code> is <a href="https://rtyley.github.io/bfg-repo-cleaner/">BFG</a> which has some more nifty features.</p>

<p>This tool provides some commands to completely remove big files as well as passwords from your Git history. Sadly I could not get it properly working, big files are still persistent as a git object and passwords can not be deleted because they are <code>protected by &#39;HEAD&#39;</code>. I could not really find a solution for these problems. Maybe you are more lucky!</p>

<p>The easiest and much simpler solution is to initialize a new git repository, after making sure to have all sensitive information removed. The downside is obviously the loss of the project&#39;s Git history.</p>
 <a class="read-more" href="/blog/open-source/security/protect-your-sensitive-data-in-git.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/open-source/bugs/how-to-report-a-bug.html">How to report a bug</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/open-source"
         title="Articles about Open Source">Open Source</a>,
      <a href="/blog/tags/bugs"
         title="Articles about Bugs">Bugs</a><time class="post-date" datetime="2016-01-01">
  01 Jan 2016
</time>
</footer>
    <section class="post-excerpt">
        <p>The simplest way to contribute to an open source project is to file an issue. Here are a few steps for you to file issues that are useful for the project maintainers.</p>

<h3>1. Make sure it hasn&#39;t been reported yet</h3>

<p>A quick Google search should return one or more results about the issue. If it&#39;s user error, just change the way you are using the code and move on.</p>

<p>If that doesn&#39;t work, find the project (it&#39;s probably on <a href="https://github.com">Github</a>) and search through open and closed issues. If it&#39;s filed and open, try to add more information to make it easier to solve. (<em>Please please please</em> don&#39;t just add another <strong>+1</strong> to a series of <strong>+1s</strong>)</p>

<p>If you couldn&#39;t find any issues, submit an issue (<em>Beware</em>: some projects will encourage you to post to their mailing list <em>before</em> filing an issue)</p>

<h3>2. Submit a useful issue report</h3>

<p>Don&#39;t just post the title of the error and what you were doing when it happened.</p>

<p><strong>Please be as specific as possible!</strong></p>

<p>Post information about:</p>

<ul>
<li>The environment (a snapshot of Gemfile.lock could help)</li>
<li>The error message (a good candidate for the issue&#39;s title)</li>
<li>The backtrace should <strong>always</strong> be included in the description</li>
<li>If there is some configuration involved, add it to the description</li>
</ul>

<h3>3. Bonus points</h3>

<ul>
<li><p>Try a couple of alternatives and see what results you get. Save all the output, which might be useful for the issue&#39;s resolution. I know that most of us try different solutions before filing an issue.</p></li>
<li><p>If you want to show the maintainer an example of the problem, you could create a sample application that generates the problem, using the same configuration and the same dependencies you have in your application.</p></li>
<li><p>If you found the problematic line in the library, you could enhance the tests to cover the scenario that you are seeing. The best libraries have near 100% code coverage, so adding another scenario could be easier than you think. You don&#39;t need to find the solution, but seeing a failing spec will definitely make it easier to find a solution.</p></li>
</ul>

<h3>4. Share your monkeypatch</h3>

<p>Most of us will <a href="http://devblog.avdi.org/2008/02/23/why-monkeypatching-is-destroying-ruby">monkeypatch</a> our application and move on. <strong>This sucks!</strong></p>

<p>You should file the issue, so that other programmers will benefit from your &quot;wasted&quot; effort.</p>

<p>If you monkeypatched it in a horrible way, add it to the issue as well. The project maintainer or other programmers might find that it isn&#39;t such a horrible patch after all.</p>

<h3>To sum things up</h3>

<p>I&#39;ve explained a couple of ways that you can make a contribution to an open source project. I started with the simpler steps and then I moved on to the more advanced contributions.</p>

<p>Ideally, detailed issue reports will become pull requests in the future. You (or someone else) might send the pull request, but it all begins with a detailed description of the problem you are seeing.</p>

<p>Don&#39;t just say <em>&quot;It doesn&#39;t work!&quot;</em>, don&#39;t be that person! Next time file an issue so that we can all benefit from your pain.</p>
 <a class="read-more" href="/blog/open-source/bugs/how-to-report-a-bug.html">Read more &raquo;</a>
    </section>
</article>
<article class="post">
    <header class="post-header">
        <h2 class="post-title">
          <a href="/blog/docker/rubygems/open-source/adding-docker-to-a-ruby-gem.html">Adding Docker to a Ruby gem</a>
        </h2>
    </header>
    <footer class="post-meta"><img class="author-thumb" src="//2.gravatar.com/avatar/9299203e7e9b9ae35e39eb66f3155f15?s=50" alt="Ernesto Tagwerker" nopin="nopin" /><a href="/blog/authors/etagwerker"
     title="Articles by Ernesto Tagwerker">
     Ernesto Tagwerker
  </a>on
    
      <a href="/blog/tags/docker"
         title="Articles about Docker">Docker</a>,
      <a href="/blog/tags/rubygems"
         title="Articles about Rubygems">Rubygems</a>,
      <a href="/blog/tags/open-source"
         title="Articles about Open Source">Open Source</a><time class="post-date" datetime="2015-12-29">
  29 Dec 2015
</time>
</footer>
    <section class="post-excerpt">
        <p>As a maintainer of a few Ruby gems, I have to decide what is accepted and what gets rejected into the gems. The other day someone submitted a <a href="https://github.com/DatabaseCleaner/database_cleaner/pull/384">pull request</a> to add a Dockerfile to <a href="https://github.com/DatabaseCleaner/database_cleaner">DatabaseCleaner</a></p>

<p>I thought it was a good idea, because the current version of DatabaseCleaner requires you to have Postgres, MySQL, Redis, and Mongo up and running before you run <code>rake</code>.</p>

<p>Here are the steps:</p>

<ol>
<li><p>Download the <a href="https://www.docker.com/docker-toolbox">Docker Toolbox</a>, a 176+ MB package.</p></li>
<li><p>Install the package, which will expand to 400+ MB in your filesystem.</p></li>
<li><p>In the terminal: <code>docker-machine start default</code></p></li>
<li><p>Then within your project: <code>docker-compose up</code> (before this I had to run <code>eval &quot;$(docker-machine env default)&quot;</code> because of <a href="https://github.com/docker/compose/issues/2180#issuecomment-147766435">this issue</a>). Get ready to wait for a few minutes while it sets up your virtual machine.</p></li>
<li><p>Finally: <code>docker-compose run --rm gem</code></p></li>
</ol>
 <a class="read-more" href="/blog/docker/rubygems/open-source/adding-docker-to-a-ruby-gem.html">Read more &raquo;</a>
    </section>
</article>
<nav class="pagination" role="pagination"><a class="newer-posts" href="/blog/page2/" title="Previous Page">&laquo; Newer Posts</a><span class="page-number"> Page 3 of 4 </span><a class="older-posts" href="/blog/page4/" title="Next Page">Older Posts &raquo;</a></nav>
<footer class="site-footer clearfix">
  <section class="copyright">
    <figure>
      <img src="/blog/assets/images/creative-commons.png"
           alt="Creative Commons Attribution-NonCommercial">
      <figcaption>
        <a href="http://creativecommons.org/licenses/by-nc/3.0/"
           target="_blank"
           title="Creative Commons Attribution-NonCommercial">Creative Commons Attribution-NonCommercial</a>
      </figcaption>
    </figure>
  </section>
  <section class="poweredby">Made with love using <a href="https://github.com/jekyll/jekyll" target="_blank">Jekyll</a> and
    <a target="_blank" href="http://github.com/rosario/kasper">Kasper theme</a>
  </section>
</footer>
</main>
<div id="sidebar">
  <h2 class="category-name">Listing all tags</h2><h3 class="tag-name">
          <a href="/blog/tags/"
             title="Articles about "></a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/agile"
             title="Articles about Agile">Agile</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/aws"
             title="Articles about Aws">Aws</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/backbone"
             title="Articles about Backbone">Backbone</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/benchmark"
             title="Articles about Benchmark">Benchmark</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/best-practices"
             title="Articles about Best Practices">Best Practices</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/bugs"
             title="Articles about Bugs">Bugs</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/carrierwave"
             title="Articles about Carrierwave">Carrierwave</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/case-study"
             title="Articles about Case Study">Case Study</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/circle-ci"
             title="Articles about Circle Ci">Circle Ci</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/continuous-integration"
             title="Articles about Continuous Integration">Continuous Integration</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/conventions"
             title="Articles about Conventions">Conventions</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/crowdsourcing"
             title="Articles about Crowdsourcing">Crowdsourcing</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/design-patterns"
             title="Articles about Design Patterns">Design Patterns</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/docker"
             title="Articles about Docker">Docker</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/dry"
             title="Articles about Dry">Dry</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/git"
             title="Articles about Git">Git</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/github"
             title="Articles about Github">Github</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/hubot"
             title="Articles about Hubot">Hubot</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/imap"
             title="Articles about Imap">Imap</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/jobs"
             title="Articles about Jobs">Jobs</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/lean-startup"
             title="Articles about Lean Startup">Lean Startup</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/learning"
             title="Articles about Learning">Learning</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/linux"
             title="Articles about Linux">Linux</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/maintenance"
             title="Articles about Maintenance">Maintenance</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/monit"
             title="Articles about Monit">Monit</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/mvp"
             title="Articles about Mvp">Mvp</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/open-source"
             title="Articles about Open Source">Open Source</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/pair-programming"
             title="Articles about Pair Programming">Pair Programming</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/performance"
             title="Articles about Performance">Performance</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/protractor"
             title="Articles about Protractor">Protractor</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/rails"
             title="Articles about Rails">Rails</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/react"
             title="Articles about React">React</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/rspec"
             title="Articles about Rspec">Rspec</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/ruby"
             title="Articles about Ruby">Ruby</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/rubygems"
             title="Articles about Rubygems">Rubygems</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/s3"
             title="Articles about S3">S3</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/security"
             title="Articles about Security">Security</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/sessions"
             title="Articles about Sessions">Sessions</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/slack"
             title="Articles about Slack">Slack</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/software-development"
             title="Articles about Software Development">Software Development</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/software-quality"
             title="Articles about Software Quality">Software Quality</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/team"
             title="Articles about Team">Team</a>
        </h3><h3 class="tag-name">
          <a href="/blog/tags/upgrades"
             title="Articles about Upgrades">Upgrades</a>
        </h3></div>
</div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script type="text/javascript" src="/blog/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17795190-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>
